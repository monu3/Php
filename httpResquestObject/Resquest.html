<!-- 
 
The XMLHttpRequest object ::        
                            It is a fundamental part of the AJAX (Asynchronous JavaScript and XML) technology. It allows JavaScript code to make HTTP requests to the server without needing to reload the entire web page. This enables dynamic content loading, making web pages more responsive and interactive. 
-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AJAX with XMLHttpRequest</title>
  </head>
  <body>
    <h2>Fetch Data Using AJAX</h2>

    <button onclick="loadData()">Load Data</button>

    <div id="result"></div>

    <script>
      function loadData() {
        // Create a new XMLHttpRequest object
        var xhr = new XMLHttpRequest();

        // Define the request method, URL, and set it to be asynchronous
        xhr.open("GET", "https://jsonplaceholder.typicode.com/todos/1", true);

        // Set up a callback function to handle the response
        xhr.onreadystatechange = function () {
          if (xhr.readyState === 4 && xhr.status === 200) {
            // The request was successful, and the data is available in xhr.responseText
            var data = JSON.parse(xhr.responseText);

            // Display the data in the result div
            document.getElementById("result").innerHTML =
              "User ID: " + data.userId + "<br>Title: " + data.title;
          } else if (xhr.readyState === 4 && xhr.status !== 200) {
            // Handle errors
            document.getElementById("result").innerHTML =
              "Error: Unable to fetch data.";
          }
        };
        // Send the request
        xhr.send();
      }
    </script>
  </body>
</html>
